<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Escolinha Aurora Tech{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<header class="navbar">
    <a href="{{ url_for('dashboard.index') }}" class="navbar-brand">
        <span class="navbar-brand-logo">EA</span>
        <span>Escolinha Aurora Tech</span>
    </a>

    {% set endpoint = request.endpoint or '' %}

    <nav>
        <ul class="navbar-nav">
            <li><a class="nav-link {% if endpoint.startswith('dashboard') %}active{% endif %}"
                   href="{{ url_for('dashboard.index') }}">Dashboard</a></li>
            <li><a class="nav-link {% if endpoint.startswith('atletas') %}active{% endif %}"
                   href="{{ url_for('atletas.listar') }}">Atletas</a></li>
            <li><a class="nav-link {% if endpoint.startswith('grupos') %}active{% endif %}"
                   href="{{ url_for('grupos.listar') }}">Grupos</a></li>
            <li><a class="nav-link {% if endpoint.startswith('atividades') %}active{% endif %}"
                   href="{{ url_for('atividades.listar') }}">Agenda</a></li>
            <li><a class="nav-link {% if endpoint.startswith('financeiro') %}active{% endif %}"
                   href="{{ url_for('financeiro.resumo') }}">Financeiro</a></li>
            <li><a class="nav-link {% if endpoint.startswith('planos') %}active{% endif %}"
                   href="{{ url_for('planos.listar') }}">Planos</a></li>
        </ul>
    </nav>

    <div class="navbar-user">
        {% if current_user.is_authenticated %}
            <span>{{ current_user.nome }}</span>
            <span class="navbar-user-role">{{ current_user.role }}</span>
            <a href="{{ url_for('auth.logout') }}" class="btn btn-outline">Sair</a>
        {% endif %}
    </div>
</header>

<main class="main-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-container">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
</main>

<footer class="footer">
    Aurora Tech · Plataforma de Gestão de Escolinhas de Futebol · 2025
</footer>

<script src="{{ url_for('static', filename='js/camera.js') }}"></script>
{% block scripts %}{% endblock %}
</body>
</html>
