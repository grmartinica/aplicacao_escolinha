{% extends "base.html" %}

{% block title %}Editar Plano - {{ plano.nome }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Editar plano</h1>
</div>

<div class="card">
    <form method="POST" class="form-vertical">
        <div class="form-group">
            <label for="nome">Nome do plano</label>
            <input type="text" name="nome" id="nome" value="{{ plano.nome }}" required>
        </div>

        <div class="form-group">
            <label for="valor">Valor (R$)</label>
            <input type="number" step="0.01" name="valor" id="valor" value="{{ plano.valor_mensal }}" required>
        </div>

        <div class="form-group">
            <label for="dia_vencimento">Dia de vencimento</label>
            <input type="number" name="dia_vencimento" id="dia_vencimento"
                   min="1" max="28" value="{{ plano.dia_vencimento }}" required>
        </div>

        <div class="form-group">
            <label for="forma_pagamento_padrao">Forma de pagamento padrão</label>
            <select name="forma_pagamento_padrao" id="forma_pagamento_padrao">
                {% for opt in ['PIX', 'DINHEIRO', 'CREDITO', 'DEBITO'] %}
                    <option value="{{ opt }}" {% if plano.forma_pagamento_padrao == opt %}selected{% endif %}>
                        {{ opt }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="periodicidade">Forma de cobrança</label>
            <select name="periodicidade" id="periodicidade">
                {% for opt in ['MENSAL', 'TRIMESTRAL', 'SEMESTRAL', 'ANUAL'] %}
                    <option value="{{ opt }}" {% if plano.periodicidade == opt %}selected{% endif %}>
                        {{ opt }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="descricao">Descrição (opcional)</label>
            <textarea name="descricao" id="descricao" rows="3">{{ plano.descricao or '' }}</textarea>
        </div>

        <div class="form-group checkbox-inline">
            <label>
                <input type="checkbox" name="ativo" {% if plano.ativo %}checked{% endif %}>
                Plano ativo
            </label>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('planos.listar') }}" class="btn-secondary">Voltar</a>
            <button type="submit" class="btn-primary">Salvar alterações</button>
        </div>
    </form>
</div>
{% endblock %}